<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IBAN - SD Global</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; background:#0b1220; color:#fff; margin:0; }
    .wrap { max-width:560px; margin:0 auto; padding:22px; }
    .card { background:#111b31; border:1px solid rgba(255,255,255,.12); border-radius:18px; padding:18px; box-shadow:0 10px 30px rgba(0,0,0,.35); }
    h1 { font-size:20px; margin:0 0 10px; }
    .label { font-size:12px; opacity:.75; margin-top:14px; }
    .value { font-size:16px; font-weight:700; line-height:1.35; word-break:break-word; }
    .ibanBox { margin-top:10px; padding:14px; background:#0b1220; border:1px dashed rgba(255,255,255,.25); border-radius:14px; }
    .btns { display:flex; gap:10px; margin-top:14px; flex-wrap:wrap; }
    button, a.btn {
      appearance:none; border:0; cursor:pointer; padding:12px 14px; border-radius:14px;
      font-weight:700; text-decoration:none; display:inline-flex; align-items:center; justify-content:center;
    }
    button{ type:button; }
    .primary { background:#e11d48; color:#fff; }
    .secondary { background:rgba(255,255,255,.12); color:#fff; border:1px solid rgba(255,255,255,.18); }
    .note { margin-top:12px; font-size:12px; opacity:.75; }
    .toast { margin-top:10px; font-size:13px; color:#a7f3d0; display:none; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Ödeme Bilgileri</h1>

      <div class="label">Ünvan</div>
      <div class="value">SD Global Güzellik Merkezi ve Ticaret Limited Şirketi</div>

      <div class="label">IBAN</div>
      <div class="ibanBox">
        <div class="value" id="ibanPretty">TR92 0001 0012 0397 7053 7450 01</div>
      </div>

      <div class="btns">
        <button class="primary" id="copyBtn" type="button">IBAN Kopyala</button>
        <button class="secondary" id="shareBtn" type="button">Paylaş</button>
        <a class="btn secondary" id="whatsBtn" target="_blank" rel="noopener">WhatsApp</a>
      </div>

      <div class="toast" id="toast">Kopyalandı ✅</div>
      <div class="note">Not: iPhone’da “Paylaş” bazen kısıtlı olabilir. Olmazsa WhatsApp veya kopyala seçtirme çıkar.</div>
    </div>
  </div>

  <script>
    const ibanPlain  = "TR920001001203977053745001";
    const ibanPretty = "TR92 0001 0012 0397 7053 7450 01";
    const titleText  = "SD Global Güzellik Merkezi ve Ticaret Limited Şirketi";

    const toast = document.getElementById("toast");
    function showToast(msg){
      toast.textContent = msg || "Kopyalandı ✅";
      toast.style.display = "block";
      clearTimeout(window.__t);
      window.__t = setTimeout(()=> toast.style.display="none", 1700);
    }

    async function copyText(text){
      // Secure context (https) + izin varsa
      if (navigator.clipboard && window.isSecureContext) {
        await navigator.clipboard.writeText(text);
        return true;
      }
      // Fallback: textarea
      const ta = document.createElement("textarea");
      ta.value = text;
      ta.style.position = "fixed";
      ta.style.left = "-9999px";
      document.body.appendChild(ta);
      ta.focus();
      ta.select();
      const ok = document.execCommand("copy");
      document.body.removeChild(ta);
      return ok;
    }

    document.getElementById("copyBtn").addEventListener("click", async () => {
      try {
        const ok = await copyText(ibanPlain);
        if (ok) showToast("IBAN kopyalandı ✅");
        else {
          // Son çare: seçtir
          prompt("Kopyalamak için IBAN'ı seçip kopyalayın:", ibanPlain);
        }
      } catch (e) {
        prompt("Kopyalamak için IBAN'ı seçip kopyalayın:", ibanPlain);
      }
    });

    document.getElementById("shareBtn").addEventListener("click", async () => {
      const text = `Ünvan: ${titleText}\nIBAN: ${ibanPretty}`;
      try {
        if (navigator.share) {
          await navigator.share({ title: "Ödeme Bilgileri", text });
        } else {
          const ok = await copyText(text);
          if (ok) showToast("Bilgiler kopyalandı ✅");
          else prompt("Bilgileri kopyalayın:", text);
        }
      } catch (e) {
        // Paylaş iptal edilirse vs.
        const ok = await copyText(text);
        if (ok) showToast("Bilgiler kopyalandı ✅");
        else prompt("Bilgileri kopyalayın:", text);
      }
    });

    const waText = encodeURIComponent(`Ünvan: ${titleText}\nIBAN: ${ibanPretty}`);
    document.getElementById("whatsBtn").href = `https://wa.me/?text=${waText}`;
  </script>
</body>
</html>
